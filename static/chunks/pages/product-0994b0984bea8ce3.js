(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{8721:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product",function(){return n(376)}])},376:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r=n(5893),i=n(253),a=n(3832),c=n(1749),l=n(2318),u=n(7294),o=n(1567),s=n(8767),f=n(2804),d=n(5277),p=n.n(d),h=n(282),v=n(7839),g=n(6010);function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var j=function(e){var t=e.lstFilter,n=e.getFilter,i=(0,o.$)().t;(0,u.useEffect)((function(){y(t)}),[t]);var a=(0,f.sJ)(v.lo),s=(0,u.useState)(!1),d=s[0],j=s[1],x=(0,u.useState)([]),b=x[0],y=x[1],Z=(0,u.useState)([]),N=Z[0],_=Z[1];return(0,r.jsxs)(c.Z,{container:!0,className:p().filterWrap,children:[(0,r.jsxs)(c.Z,{container:!0,justifyContent:"flex-end",className:p().filterHeading,children:[!a&&(0,r.jsx)(l.Z,{component:"span",className:p().active,children:i("product")}),(0,r.jsxs)(c.Z,{className:p().iconGroup,children:[a?(0,r.jsx)(l.Z,{variant:"h6",className:p().mobileTitle,children:i("productList")}):(0,r.jsx)(l.Z,{variant:"body2",children:i("filter")}),(0,r.jsx)("img",{src:d?"/assets/icons/filter-full.svg":"/assets/icons/filter-solid.svg",className:p().icon,onClick:function(){return j(!d)}})]})]}),d&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{className:p().listWrap,children:null===b||void 0===b?void 0:b.map((function(e,t){var n=e.title,a=e.filter_child,u=n;return(0,r.jsxs)(c.Z,{className:p().group,children:[(0,r.jsx)(l.Z,{variant:"body1",children:i(n)}),(0,r.jsx)(c.Z,{className:p().tags,children:null===a||void 0===a?void 0:a.map((function(e,t){var n,a,l,o=e.title,s=e.isActive;return(0,r.jsx)(c.Z,{children:(0,r.jsx)("span",{className:(0,g.Z)((n={},a=p().active,l=s,a in n?Object.defineProperty(n,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[a]=l,n)),onClick:function(){return function(e,t){var n=[],r=N,i=r.indexOf(t.id);b.forEach((function(r,i){var a=r.title,c=r.filter_child;if(a!==e)n=m(b);else{var l=[];c.forEach((function(e){e.title===t.title&&(e.isActive=!t.isActive),l.push(e)})),n[i]={title:e,filter_child:l}}})),i>-1?r.splice(i,1):r.push({id:t.id,title:t.title}),y(n),_(r)}(u,e)},children:i(o)})},t)}))})]},t)}))}),(0,r.jsxs)(c.Z,{className:p().btnGroup,children:[(0,r.jsx)(h.Z,{variant:"contained",onClick:function(){b.map((function(e){e.filter_child.map((function(e){return e.isActive=!1}))})),y(m(b)),_([]),n([])},children:i("clearFilter")}),(0,r.jsx)(h.Z,{variant:"contained",color:"primary",onClick:function(){n(N),j(!d)},children:i("apply")})]})]})]})},x=n(5551),b=n(6128),y=n(8938),Z=n(5593);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){N(e,t,n[t])}))}return e}var S=[{name:10,value:10},{name:15,value:15},{name:20,value:20},{name:25,value:25}],w={page:1,pageSize:10,total_record:0,products:[]},O=function(){var e=(0,f.sJ)(v.lo),t=(0,o.$)(),n=t.t,d=t.i18n,h="vn"===d.language||"vi-VN"===d.language?"vi":d.language,g=(0,u.useState)([]),m=g[0],N=g[1],O=(0,u.useState)(w),P=O[0],E=O[1],F=(0,u.useState)([]),A=F[0],C=F[1],k=function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,a=A[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var c=i.value;e.push(c.id)}}catch(l){n=!0,r=l}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e.join()},z=(0,s.useQuery)(["listProductQuery",h,P.page,P.pageSize,k()],(function(){return 0==A.length?(0,Z.xH)(h,P.page,P.pageSize):(0,Z.BF)(h,P.page,P.pageSize,k())}),{}),Q=z.data,T=z.isFetching,H=z.refetch,W=(0,s.useQuery)(["filterProductQuery",h],(function(){return(0,Z.Uu)(h)}),{}),G=W.data,J=W.isFetching;(0,u.useEffect)((function(){Q&&(Q.products.length>=0?E((function(e){return _({},e,Q)})):E(w))}),[Q]),(0,u.useEffect)((function(){if(G){var e=G.map((function(e){var t=e.filter_child.map((function(e){return _({},e,{isActive:!1})}));return _({},e,{filter_child:t})}));N(e)}}),[G]);return T&&J?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(a.Z,{children:(0,r.jsxs)(c.Z,{className:p().pageWrap,children:[!e&&(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(b.Z,{breadCrumbs:[{label:"allProduct"}],iconHome:!0}),(0,r.jsx)(i.Z,{mt:3,mb:3,children:(0,r.jsx)(l.Z,{variant:"h1",children:n("productList")})})]}),(0,r.jsx)(j,{lstFilter:m,getFilter:function(e){return function(e){C(e),H()}(e)}}),(0,r.jsx)(i.Z,{className:p().tagsFilter,children:!e&&A.map((function(e){return(0,r.jsx)("div",{className:p().tag,children:(0,r.jsx)(l.Z,{component:"span",variant:"inherit",children:e.title})},e.id)}))}),(0,r.jsx)(x.Z,{lstProduct:P.products}),(0,r.jsx)(i.Z,{my:3,children:(0,r.jsx)(y.Z,{page:P.page,totalRecord:P.total_record,countPage:P.pageSize,hanleChangePage:function(e,t){return n=t,void E((function(e){return _({},e,{page:n})}));var n},hanleChangePageSize:function(e){return function(e){E((function(t){return _({},t,{pageSize:e,page:1})}))}(e)},options:S})})]})})}}},function(e){e.O(0,[885,371,457,247,774,888,179],(function(){return t=8721,e(e.s=t);var t}));var t=e.O();_N_E=t}]);