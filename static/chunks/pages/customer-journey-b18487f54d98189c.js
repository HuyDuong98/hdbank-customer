(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[439],{9978:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customer-journey",function(){return n(4247)}])},4247:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return W}});var a=n(5893),r=n(1451),o=n(6854),i=n(5987),l=n(7462),u=n(7294),c=n(6010),s=n(1591),d=n(8920),m=n(9693),v=n(4896),h=n(626),p=n(5192),f=n(3834),b=n(3871),g=n(2775);var x=(0,s.Z)((function(e){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:(0,l.Z)({zIndex:1},e.typography.body2,{fontSize:e.typography.pxToRem(12),lineHeight:1.2,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),top:-34,transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:e.palette.primary.contrastText,transform:"rotate(45deg)"}}}),{name:"PrivateValueLabel"})((function(e){var t=e.children,n=e.classes,a=e.className,r=e.open,o=e.value,i=e.valueLabelDisplay;return"off"===i?t:u.cloneElement(t,{className:(0,c.Z)(t.props.className,(r||"on"===i)&&n.open,n.thumb)},u.createElement("span",{className:(0,c.Z)(n.offset,a)},u.createElement("span",{className:n.circle},u.createElement("span",{className:n.label},o))))}));function y(e,t){return e-t}function w(e,t,n){return Math.min(Math.max(t,e),n)}function Z(e,t){return e.reduce((function(e,n,a){var r=Math.abs(t-n);return null===e||r<e.distance||r===e.distance?{distance:r,index:a}:e}),null).index}function k(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=0;n<e.changedTouches.length;n+=1){var a=e.changedTouches[n];if(a.identifier===t.current)return{x:a.clientX,y:a.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function C(e,t,n){return 100*(e-t)/(n-t)}function L(e,t,n){var a=Math.round((e-n)/t)*t+n;return Number(a.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var a=e.toString().split(".")[1];return a?a.length:0}(t)))}function j(e){var t=e.values,n=e.source,a=e.newValue,r=e.index;if(t[r]===a)return n;var o=t.slice();return o[r]=a,o}function E(e){var t=e.sliderRef,n=e.activeIndex,a=e.setActive;t.current.contains(document.activeElement)&&Number(document.activeElement.getAttribute("data-index"))===n||t.current.querySelector('[role="slider"][data-index="'.concat(n,'"]')).focus(),a&&a(n)}var S={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},N=function(e){return e},A=u.forwardRef((function(e,t){var n=e["aria-label"],a=e["aria-labelledby"],s=e["aria-valuetext"],m=e.classes,A=e.className,_=e.color,V=void 0===_?"primary":_,$=e.component,I=void 0===$?"span":$,R=e.defaultValue,F=e.disabled,O=void 0!==F&&F,T=e.getAriaLabel,D=e.getAriaValueText,P=e.marks,z=void 0!==P&&P,M=e.max,J=void 0===M?100:M,B=e.min,X=void 0===B?0:B,H=e.name,q=e.onChange,Q=e.onChangeCommitted,W=e.onMouseDown,Y=e.orientation,K=void 0===Y?"horizontal":Y,U=e.scale,G=void 0===U?N:U,ee=e.step,te=void 0===ee?1:ee,ne=e.ThumbComponent,ae=void 0===ne?"span":ne,re=e.track,oe=void 0===re?"normal":re,ie=e.value,le=e.ValueLabelComponent,ue=void 0===le?x:le,ce=e.valueLabelDisplay,se=void 0===ce?"off":ce,de=e.valueLabelFormat,me=void 0===de?N:de,ve=(0,i.Z)(e,["aria-label","aria-labelledby","aria-valuetext","classes","className","color","component","defaultValue","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","ThumbComponent","track","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),he=(0,d.Z)(),pe=u.useRef(),fe=u.useState(-1),be=fe[0],ge=fe[1],xe=u.useState(-1),ye=xe[0],we=xe[1],Ze=(0,g.Z)({controlled:ie,default:R,name:"Slider"}),ke=(0,o.Z)(Ze,2),Ce=ke[0],Le=ke[1],je=Array.isArray(Ce),Ee=je?Ce.slice().sort(y):[Ce];Ee=Ee.map((function(e){return w(e,X,J)}));var Se=!0===z&&null!==te?(0,r.Z)(Array(Math.floor((J-X)/te)+1)).map((function(e,t){return{value:X+te*t}})):z||[],Ne=(0,v.Z)(),Ae=Ne.isFocusVisible,_e=Ne.onBlurVisible,Ve=Ne.ref,$e=u.useState(-1),Ie=$e[0],Re=$e[1],Fe=u.useRef(),Oe=(0,f.Z)(Ve,Fe),Te=(0,f.Z)(t,Oe),De=(0,p.Z)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));Ae(e)&&Re(t),we(t)})),Pe=(0,p.Z)((function(){-1!==Ie&&(Re(-1),_e()),we(-1)})),ze=(0,p.Z)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));we(t)})),Me=(0,p.Z)((function(){we(-1)})),Je="rtl"===he.direction,Be=(0,p.Z)((function(e){var t,n=Number(e.currentTarget.getAttribute("data-index")),a=Ee[n],r=(J-X)/10,o=Se.map((function(e){return e.value})),i=o.indexOf(a),l=Je?"ArrowLeft":"ArrowRight",u=Je?"ArrowRight":"ArrowLeft";switch(e.key){case"Home":t=X;break;case"End":t=J;break;case"PageUp":te&&(t=a+r);break;case"PageDown":te&&(t=a-r);break;case l:case"ArrowUp":t=te?a+te:o[i+1]||o[o.length-1];break;case u:case"ArrowDown":t=te?a-te:o[i-1]||o[0];break;default:return}if(e.preventDefault(),te&&(t=L(t,te,X)),t=w(t,X,J),je){var c=t;t=j({values:Ee,source:Ce,newValue:t,index:n}).sort(y),E({sliderRef:Fe,activeIndex:t.indexOf(c)})}Le(t),Re(n),q&&q(e,t),Q&&Q(e,t)})),Xe=u.useRef(),He=K;Je&&"vertical"!==K&&(He+="-reverse");var qe=function(e){var t,n,a=e.finger,r=e.move,o=void 0!==r&&r,i=e.values,l=e.source,u=Fe.current.getBoundingClientRect(),c=u.width,s=u.height,d=u.bottom,m=u.left;if(t=0===He.indexOf("vertical")?(d-a.y)/s:(a.x-m)/c,-1!==He.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,X,J),te)n=L(n,te,X);else{var v=Se.map((function(e){return e.value}));n=v[Z(v,n)]}n=w(n,X,J);var h=0;if(je){var p=n;h=(n=j({values:i,source:l,newValue:n,index:h=o?Xe.current:Z(i,n)}).sort(y)).indexOf(p),Xe.current=h}return{newValue:n,activeIndex:h}},Qe=(0,p.Z)((function(e){var t=k(e,pe);if(t){var n=qe({finger:t,move:!0,values:Ee,source:Ce}),a=n.newValue,r=n.activeIndex;E({sliderRef:Fe,activeIndex:r,setActive:ge}),Le(a),q&&q(e,a)}})),We=(0,p.Z)((function(e){var t=k(e,pe);if(t){var n=qe({finger:t,values:Ee,source:Ce}).newValue;ge(-1),"touchend"===e.type&&we(-1),Q&&Q(e,n),pe.current=void 0;var a=(0,h.Z)(Fe.current);a.removeEventListener("mousemove",Qe),a.removeEventListener("mouseup",We),a.removeEventListener("touchmove",Qe),a.removeEventListener("touchend",We)}})),Ye=(0,p.Z)((function(e){e.preventDefault();var t=e.changedTouches[0];null!=t&&(pe.current=t.identifier);var n=k(e,pe),a=qe({finger:n,values:Ee,source:Ce}),r=a.newValue,o=a.activeIndex;E({sliderRef:Fe,activeIndex:o,setActive:ge}),Le(r),q&&q(e,r);var i=(0,h.Z)(Fe.current);i.addEventListener("touchmove",Qe),i.addEventListener("touchend",We)}));u.useEffect((function(){var e=Fe.current;e.addEventListener("touchstart",Ye);var t=(0,h.Z)(e);return function(){e.removeEventListener("touchstart",Ye),t.removeEventListener("mousemove",Qe),t.removeEventListener("mouseup",We),t.removeEventListener("touchmove",Qe),t.removeEventListener("touchend",We)}}),[We,Qe,Ye]);var Ke=(0,p.Z)((function(e){W&&W(e),e.preventDefault();var t=k(e,pe),n=qe({finger:t,values:Ee,source:Ce}),a=n.newValue,r=n.activeIndex;E({sliderRef:Fe,activeIndex:r,setActive:ge}),Le(a),q&&q(e,a);var o=(0,h.Z)(Fe.current);o.addEventListener("mousemove",Qe),o.addEventListener("mouseup",We)})),Ue=C(je?Ee[0]:X,X,J),Ge=C(Ee[Ee.length-1],X,J)-Ue,et=(0,l.Z)({},S[He].offset(Ue),S[He].leap(Ge));return u.createElement(I,(0,l.Z)({ref:Te,className:(0,c.Z)(m.root,m["color".concat((0,b.Z)(V))],A,O&&m.disabled,Se.length>0&&Se.some((function(e){return e.label}))&&m.marked,!1===oe&&m.trackFalse,"vertical"===K&&m.vertical,"inverted"===oe&&m.trackInverted),onMouseDown:Ke},ve),u.createElement("span",{className:m.rail}),u.createElement("span",{className:m.track,style:et}),u.createElement("input",{value:Ee.join(","),name:H,type:"hidden"}),Se.map((function(e,t){var n,a=C(e.value,X,J),r=S[He].offset(a);return n=!1===oe?-1!==Ee.indexOf(e.value):"normal"===oe&&(je?e.value>=Ee[0]&&e.value<=Ee[Ee.length-1]:e.value<=Ee[0])||"inverted"===oe&&(je?e.value<=Ee[0]||e.value>=Ee[Ee.length-1]:e.value>=Ee[0]),u.createElement(u.Fragment,{key:e.value},u.createElement("span",{style:r,"data-index":t,className:(0,c.Z)(m.mark,n&&m.markActive)}),null!=e.label?u.createElement("span",{"aria-hidden":!0,"data-index":t,style:r,className:(0,c.Z)(m.markLabel,n&&m.markLabelActive)},e.label):null)})),Ee.map((function(e,t){var r=C(e,X,J),o=S[He].offset(r);return u.createElement(ue,{key:t,valueLabelFormat:me,valueLabelDisplay:se,className:m.valueLabel,value:"function"===typeof me?me(G(e),t):me,index:t,open:ye===t||be===t||"on"===se,disabled:O},u.createElement(ae,{className:(0,c.Z)(m.thumb,m["thumbColor".concat((0,b.Z)(V))],be===t&&m.active,O&&m.disabled,Ie===t&&m.focusVisible),tabIndex:O?null:0,role:"slider",style:o,"data-index":t,"aria-label":T?T(t):n,"aria-labelledby":a,"aria-orientation":K,"aria-valuemax":G(J),"aria-valuemin":G(X),"aria-valuenow":G(e),"aria-valuetext":D?D(G(e),t):s,onKeyDown:Be,onFocus:De,onBlur:Pe,onMouseOver:ze,onMouseLeave:Me}))})))})),_=(0,s.Z)((function(e){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"13px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:e.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{pointerEvents:"none",cursor:"default",color:e.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 13px"},"@media (pointer: coarse)":{padding:"20px 0","&$vertical":{padding:"0 20px"}},"@media print":{colorAdjust:"exact"}},colorPrimary:{},colorSecondary:{color:e.palette.secondary.main},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},trackFalse:{"& $track":{display:"none"}},trackInverted:{"& $track":{backgroundColor:"light"===e.palette.type?(0,m.$n)(e.palette.primary.main,.62):(0,m._j)(e.palette.primary.main,.5)},"& $rail":{opacity:1}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow"],{duration:e.transitions.duration.shortest}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",left:-15,top:-15,right:-15,bottom:-15},"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat((0,m.Fq)(e.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat((0,m.Fq)(e.palette.primary.main,.16))},"&$disabled":{width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical &$disabled":{marginLeft:-3,marginBottom:-4}},thumbColorPrimary:{},thumbColorSecondary:{"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat((0,m.Fq)(e.palette.secondary.main,.16))},"&$active":{boxShadow:"0px 0px 0px 14px ".concat((0,m.Fq)(e.palette.secondary.main,.16))}},active:{},focusVisible:{},valueLabel:{left:"calc(-50% - 4px)"},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:e.palette.background.paper,opacity:.8},markLabel:(0,l.Z)({},e.typography.body2,{color:e.palette.text.secondary,position:"absolute",top:26,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:26,transform:"translateY(50%)"},"@media (pointer: coarse)":{top:40,"$vertical &":{left:31}}}),markLabelActive:{color:e.palette.text.primary}}}),{name:"MuiSlider"})(A),V=n(1749),$=n(253),I=n(2318),R=n(282),F=n(3832),O=n(1567),T=n(6128),D=n(9310),P=n.n(D),z=n(5551),M=n(8767),J=n(5593),B=n(8938);function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){X(e,t,n[t])}))}return e}var q=[{name:10,value:10},{name:15,value:15},{name:20,value:20},{name:25,value:25}],Q=(0,s.Z)({root:{padding:"5rem 0 3rem"},markLabel:{top:100,"@media (max-width: 768px)":{fontSize:"0.625rem",fontWeight:400}},mark:{width:12,height:12,borderRadius:"50%",top:77,"@media (max-width: 768px)":{top:79,width:6,height:6}},markActive:{opacity:1,backgroundColor:"#da2128"},track:{height:6,"@media (max-width: 768px)":{height:3}},rail:{height:6,backgroundColor:"#e0e0e0","@media (max-width: 768px)":{height:3}},thumb:{width:24,height:24,top:77,"@media (max-width: 768px)":{top:80,width:12,height:12}},valueLabel:{color:"transparent",left:-5}})(_),W=function(){var e=(0,O.$)(),t=e.t,n=e.i18n,r="vn"===n.language||"vi-VN"===n.language?"vi":n.language,o=[{label:t("chooseCards")}],i=(0,u.useState)({total_record:0,products:[]}),l=i[0],c=i[1],s=(0,u.useState)({page:1,pageSize:10}),d=s[0],m=s[1],v=(0,u.useState)({monthlyincome:"0",monthlyspent:"0",demand:"0"}),h=v[0],p=v[1],f=(0,u.useState)({monthlyincome:[],monthlyspent:[],demand:[]}),b=f[0],g=f[1],x=(0,u.useState)(1),y=x[0],w=x[1],Z=(0,u.useState)(1),k=Z[0],C=Z[1],L=(0,M.useQuery)(["filtersQuery",r],(function(){return(0,J.Zr)(r)})).data,j=(0,M.useQuery)(["lstProductQuery",r,h.monthlyincome,h.monthlyspent,h.demand,d.page,d.pageSize],(function(){return(0,J.HI)(r,h.monthlyincome,h.monthlyspent,h.demand,d.page,d.pageSize)})).data;(0,u.useEffect)((function(){j&&c(H({},j,{pageSize:10}))}),[j]);(0,u.useEffect)((function(){var e,t;L&&(g(H({},b,{monthlyincome:null===L||void 0===L||null===(e=L.monthlyincome)||void 0===e?void 0:e.map((function(e,t){return{value:t+1,label:e.label,id:e.id}})),monthlyspent:null===L||void 0===L||null===(t=L.monthlyspent)||void 0===t?void 0:t.map((function(e,t){return{value:t+1,label:e.label,id:e.id}})),demand:null===L||void 0===L?void 0:L.demand})),p(H({},h,{monthlyincome:null===L||void 0===L?void 0:L.monthlyincome[0].id,monthlyspent:null===L||void 0===L?void 0:L.monthlyspent[0].id,demand:null===L||void 0===L?void 0:L.demand[0].id})))}),[L]);var E=function(){return(0,a.jsx)("img",{src:"/assets/icons/slider-money.svg"})};return(0,a.jsxs)(F.Z,{className:P().customerJourney,children:[(0,a.jsx)(T.Z,{breadCrumbs:o,iconHome:!0}),(0,a.jsx)($.Z,{mt:3,mb:3,children:(0,a.jsx)(I.Z,{component:"h1",color:"primary",children:t("chooseACreditCardChooseAStyle")})}),(0,a.jsx)($.Z,{mt:3,children:function(){var e,n,r;return(0,a.jsx)(V.Z,{container:!0,justifyContent:"space-between",alignItems:"center",children:(0,a.jsx)(V.Z,{item:!0,md:12,xs:12,children:(0,a.jsxs)($.Z,{className:P().stepJourney,children:[(0,a.jsxs)($.Z,{children:[(0,a.jsxs)(I.Z,{variant:"h2",children:[" ",t("monthlyIncome")]}),(0,a.jsx)(Q,{min:0,max:null===b||void 0===b||null===(e=b.monthlyincome)||void 0===e?void 0:e.length,step:1,marks:null===b||void 0===b?void 0:b.monthlyincome,value:y,onChange:function(e,t){return function(e,t){w(t),p(H({},h,{monthlyincome:null===b||void 0===b?void 0:b.monthlyincome[t-1].id}))}(0,t)},valueLabelFormat:E,valueLabelDisplay:"on"}),(0,a.jsxs)(I.Z,{variant:"h2",children:[" ",t("monthlySpending")]}),(0,a.jsx)(Q,{min:0,max:null===b||void 0===b||null===(n=b.monthlyspent)||void 0===n?void 0:n.length,step:1,marks:null===b||void 0===b?void 0:b.monthlyspent,value:k,onChange:function(e,t){return function(e,t){C(t),p(H({},h,{monthlyspent:null===b||void 0===b?void 0:b.monthlyspent[t-1].id}))}(0,t)},defaultValue:1,valueLabelFormat:E,valueLabelDisplay:"on"})]}),(0,a.jsxs)($.Z,{mt:3,children:[(0,a.jsxs)(I.Z,{variant:"h2",children:[" ",t("yourNeeds")]}),(0,a.jsx)($.Z,{mt:3,children:(0,a.jsx)(V.Z,{container:!0,spacing:2,children:null===b||void 0===b||null===(r=b.demand)||void 0===r?void 0:r.map((function(e,t){return(0,a.jsx)(V.Z,{item:!0,children:(0,a.jsxs)("div",{className:P().needItem,children:[(0,a.jsx)("input",{type:"radio",name:"need",id:"need".concat(e.id),defaultChecked:h.demand===e.id}),(0,a.jsx)("label",{htmlFor:"need".concat(e.id),onClick:function(){return p(H({},h,{demand:e.id}))},children:e.label})]})},e.id)}))})})]}),(0,a.jsxs)($.Z,{textAlign:"center",mt:3,children:[(0,a.jsx)(R.Z,{variant:"contained",color:"primary",children:t("matchingCard")}),(0,a.jsx)($.Z,{mt:2,children:(0,a.jsx)(I.Z,{variant:"body2",children:t("matchingCardFound",{card:l.total_record})})})]})]})})})}()}),(0,a.jsxs)($.Z,{mb:3,children:[(0,a.jsx)(z.Z,{lstProduct:l.products}),(null===l||void 0===l?void 0:l.products.length)>0&&(0,a.jsx)($.Z,{my:3,children:(0,a.jsx)(B.Z,{page:d.page,totalRecord:l.total_record,countPage:d.pageSize,hanleChangePage:function(e,t){m(H({},d,{page:t}))},hanleChangePageSize:function(e){return function(e){m({pageSize:e,page:1})}(e)},options:q})})]})]})}},9310:function(e){e.exports={customerJourney:"CustomerJourney_customerJourney__i_oQH",stepJourney:"CustomerJourney_stepJourney__hKfX4",boxWish:"CustomerJourney_boxWish__NN4_S",needItem:"CustomerJourney_needItem__B4lXF"}}},function(e){e.O(0,[885,371,457,247,774,888,179],(function(){return t=9978,e(e.s=t);var t}));var t=e.O();_N_E=t}]);